"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7130],{5641:(y,u,r)=>{r.d(u,{f:()=>t});var m=r(5e3);let t=(()=>{class n{onClick(){setTimeout(()=>{let i=null,s=document.getElementsByClassName("action-sheet-button");if(s.length>0){for(const e of s)if(e.classList.contains("action-sheet-selected")){i=e;break}}else{s=document.getElementsByClassName("alert-radio-button"),0===s.length&&(s=document.getElementsByClassName("sc-ion-select-popover"));for(const e of s){const p=e.attributes.getNamedItem("aria-checked");if(p&&"true"===p.value){i=e;break}}}i&&i.scrollIntoView({block:"center"})},250)}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=m.lG2({type:n,selectors:[["ion-select"]],hostBindings:function(i,s){1&i&&m.NdJ("click",function(){return s.onClick()})}}),n})()},5045:(y,u,r)=>{r.d(u,{n:()=>m});class m{isErrorState(t,n){var c,i,s;const e=!(!(null==t?void 0:t.invalid)||!(null===(c=null==t?void 0:t.parent)||void 0===c?void 0:c.dirty)),p=!(!(null===(i=null==t?void 0:t.parent)||void 0===i?void 0:i.invalid)||!(null===(s=null==t?void 0:t.parent)||void 0===s?void 0:s.dirty));return e||p}}},7956:(y,u,r)=>{r.d(u,{p:()=>c});var m=r(655),l=r(5e3),t=r(8779);let n=(()=>{class i{constructor(){this.message="Loading..."}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-page-loader"]],decls:5,vars:1,consts:[[1,"container"],[1,"holder"],["color","primary"]],template:function(e,p){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"ion-spinner",2),l.TgZ(3,"span"),l._uU(4),l.qZA()()()),2&e&&(l.xp6(4),l.Oqu(p.message))},dependencies:[t.PQ],styles:[".container{height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}.container .holder{display:flex;align-items:center;gap:10px;flex-direction:column;font-size:20px;text-shadow:none!important}\n"],encapsulation:2}),i})(),c=(()=>{class i{constructor(e){this.modalCtrl=e}open(e){return(0,m.mG)(this,void 0,void 0,function*(){this.modal&&(yield this.modal.dismiss()),this.modal=yield this.modalCtrl.create({component:n,id:"page-loader",cssClass:"modal-fullscreen",canDismiss:!1,componentProps:{message:e}}),this.modal.present()})}close(){return(0,m.mG)(this,void 0,void 0,function*(){this.modal.canDismiss=!0,yield this.modal.dismiss()})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(t.IN))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7130:(y,u,r)=>{r.r(u),r.d(u,{RegisterPageModule:()=>q});var m=r(5268),l=r(9808),t=r(3075),n=r(8779),c=r(4132),i=r(655),s=r(5045),e=r(5e3),p=r(9709),x=r(263),A=r(7956),I=r(7703),S=r(5245),b=r(7322),P=r(7531),w=r(5641);function U(a,g){1&a&&e._UZ(0,"ion-datetime",34),2&a&&e.Q6J("showDefaultButtons",!0)}function C(a,g){1&a&&(e.TgZ(0,"span",35),e._uU(1," Please select a gender "),e.qZA())}const T=[{path:"",component:(()=>{class a{constructor(d,o,f,v,h,F){this.formBuilder=d,this.router=o,this.appconfig=f,this.authService=v,this.pageLoaderService=h,this.alertController=F,this.isSubmitting=!1,this.matcher=new s.n,this.defaultDate=new Date,this.checkPasswords=Z=>Z.get("password").value===Z.get("confirmPassword").value?null:{notSame:!0}}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:[null,t.kI.required],middleName:[null],lastName:[null,t.kI.required],email:[null,t.kI.required],mobileNumber:[null,[t.kI.required,t.kI.pattern("^[0-9]*$"),t.kI.minLength(11),t.kI.maxLength(11)]],address:[null,t.kI.required],birthDate:[this.defaultDate.toISOString(),t.kI.required],genderId:[null,t.kI.required],username:[null,t.kI.required],password:[null,t.kI.required],confirmPassword:""},{validators:this.checkPasswords})}get controls(){return this.registerForm.controls}onFormSubmit(d){return(0,i.mG)(this,void 0,void 0,function*(){if(console.log(d),this.registerForm.valid)try{this.isSubmitting=!0,yield this.pageLoaderService.open("Processing please wait..."),this.authService.register(d).subscribe(o=>(0,i.mG)(this,void 0,void 0,function*(){o.success?(console.log(o.data),yield this.presentAlert({header:"Saved!",buttons:["OK"]}).then(()=>(0,i.mG)(this,void 0,void 0,function*(){!0===this.appconfig.config.auth.requireOTP?(this.router.navigate(["verify-otp"],{state:{data:{userId:o.data.user.userId}}}),yield this.pageLoaderService.close()):(this.router.navigate(["/login"],{replaceUrl:!0}),yield this.pageLoaderService.close()),this.isSubmitting=!1})),yield this.pageLoaderService.close()):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(o.message)?o.message[0]:o.message,buttons:["OK"]}))}),o=>(0,i.mG)(this,void 0,void 0,function*(){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(o.message)?o.message[0]:o.message,buttons:["OK"]})}))}catch(o){yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(o.message)?o.message[0]:o.message,buttons:["OK"]})}})}presentAlert(d){return(0,i.mG)(this,void 0,void 0,function*(){return yield(yield this.alertController.create(d)).present()})}}return a.\u0275fac=function(d){return new(d||a)(e.Y36(t.qu),e.Y36(c.F0),e.Y36(p._),e.Y36(x.e),e.Y36(A.p),e.Y36(n.Br))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-register"]],decls:90,vars:14,consts:[[1,"register","container"],[1,"form-container"],["id","registerForm",3,"formGroup","ngSubmit"],["documentEditForm","ngForm"],[3,"disabled"],[1,"form-field-group"],[1,"register-text"],["appearance","outline"],["matInput","","type","text","placeholder","First name","formControlName","firstName","autocomplete","new-firstName"],["matInput","","type","text","placeholder","Middle name","formControlName","middleName","autocomplete","new-middleName"],["matInput","","type","text","placeholder","Last name","formControlName","lastName","autocomplete","new-lastName"],["matInput","","type","email","placeholder","Email","formControlName","email","autocomplete","new-email","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","number","placeholder","Mobile number","formControlName","mobileNumber","autocomplete","new-mobileNumber"],["matInput","","type","text","placeholder","Address","formControlName","address"],["slot","start"],["id","open-birthDate-picker","fill","outline","lines","none",3,"disabled"],["trigger","open-birthDate-picker",3,"cssClass"],["fill","outline",3,"disabled"],["slot","start","formControlName","genderId","placeholder","Select Gender"],["slot","start","value","1"],["slot","start","value","2"],["slot","start","value","3"],["class","error",4,"ngIf"],["matInput","","type","text","placeholder","Username","formControlName","username","autocomplete","new-username","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","password","placeholder","Password","formControlName","password","autocomplete","new-password"],["password",""],["matSuffix","",1,"icon-right",2,"cursor","pointer",3,"click"],["matInput","","type","password","placeholder","Confirm password","formControlName","confirmPassword","autocomplete","new-confirmPassword",3,"errorStateMatcher"],["confirmPassword",""],[1,"register-footer"],[1,"action"],["form","registerForm","type","submit","mat-flat-button","","color","primary",3,"disabled"],[1,"footer-helper"],["routerLink","/login","replaceUrl","true"],["presentation","date","size","cover","formControlName","birthDate",3,"showDefaultButtons"],[1,"error"]],template:function(d,o){if(1&d){const f=e.EpF();e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"form",2,3),e.NdJ("ngSubmit",function(){return o.onFormSubmit(o.registerForm.value)}),e.TgZ(5,"fieldset",4)(6,"div",5)(7,"span",6),e._uU(8,"Create account"),e.qZA()(),e.TgZ(9,"div",5)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"First name"),e.qZA(),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div",5)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Middle name"),e.qZA(),e._UZ(18,"input",9),e.qZA()(),e.TgZ(19,"div",5)(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Last name"),e.qZA(),e._UZ(23,"input",10),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",7)(26,"mat-label"),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",11),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-form-field",7)(31,"mat-label"),e._uU(32,"Mobile number"),e.qZA(),e._UZ(33,"input",12),e.qZA()(),e.TgZ(34,"div",5)(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Address"),e.qZA(),e._UZ(38,"textarea",13),e.qZA()(),e.TgZ(39,"div",5)(40,"mat-label",14),e._uU(41,"Birthdate"),e.qZA(),e.TgZ(42,"ion-item",15)(43,"ion-label"),e._uU(44),e.ALo(45,"date"),e.qZA()(),e.TgZ(46,"ion-modal",16),e.YNc(47,U,1,1,"ng-template"),e.qZA()(),e.TgZ(48,"div",5)(49,"mat-label"),e._uU(50,"Gender "),e.qZA(),e.TgZ(51,"ion-item",17)(52,"ion-select",18)(53,"ion-select-option",19),e._uU(54,"Male"),e.qZA(),e.TgZ(55,"ion-select-option",20),e._uU(56,"Female"),e.qZA(),e.TgZ(57,"ion-select-option",21),e._uU(58,"Rather not say"),e.qZA()()(),e.YNc(59,C,2,0,"span",22),e.qZA(),e.TgZ(60,"div",5)(61,"mat-form-field",7)(62,"mat-label"),e._uU(63,"Username"),e.qZA(),e._UZ(64,"input",23),e.qZA()(),e.TgZ(65,"div",5)(66,"mat-form-field",7)(67,"mat-label"),e._uU(68,"Password"),e.qZA(),e._UZ(69,"input",24,25),e.TgZ(71,"mat-icon",26),e.NdJ("click",function(){e.CHM(f);const h=e.MAs(70);return e.KtG(h.type="password"===h.type?"text":"password")}),e._uU(72),e.qZA()()(),e.TgZ(73,"div",5)(74,"mat-form-field",7)(75,"mat-label"),e._uU(76,"Confirm password"),e.qZA(),e._UZ(77,"input",27,28),e.TgZ(79,"mat-icon",26),e.NdJ("click",function(){e.CHM(f);const h=e.MAs(78);return e.KtG(h.type="password"===h.type?"text":"password")}),e._uU(80),e.qZA()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"button",31),e._uU(84,"Sign up"),e.qZA()(),e.TgZ(85,"div",32)(86,"span"),e._uU(87,"Already have an account? "),e.TgZ(88,"a",33),e._uU(89,"Login"),e.qZA()()()()()()}if(2&d){const f=e.MAs(70),v=e.MAs(78);e.xp6(3),e.Q6J("formGroup",o.registerForm),e.xp6(2),e.Q6J("disabled",o.isSubmitting),e.xp6(37),e.Q6J("disabled",o.isSubmitting),e.xp6(2),e.Oqu(e.xi3(45,11,o.controls.birthDate.value,"MMMM dd, yyyy")),e.xp6(2),e.Q6J("cssClass","bottom-end"),e.xp6(5),e.Q6J("disabled",o.isSubmitting),e.xp6(8),e.Q6J("ngIf",o.controls.genderId.touched&&o.controls.genderId.errors&&o.controls.genderId.errors.required),e.xp6(13),e.Oqu("password"===f.type?"visibility":"visibility_off"),e.xp6(5),e.Q6J("errorStateMatcher",o.matcher),e.xp6(3),e.Oqu("password"===v.type?"visibility":"visibility_off"),e.xp6(3),e.Q6J("disabled",o.isSubmitting)}},dependencies:[l.O5,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,n.W2,n.x4,n.Ie,n.Q$,n.t9,n.n0,n.ki,n.QI,n.Fo,c.yS,I.lW,S.Hw,b.KE,b.hX,b.R9,P.Nt,w.f,l.uU],styles:[".container{height:100%;display:flex;padding:0 40px!important}.container.register{flex-direction:column;margin-top:30px;justify-content:flex-start!important}.container.register .app_banner{display:flex;flex-grow:1;justify-content:center;margin-bottom:27px!important}.container.register .app_banner .image-container{width:138px;height:48px;display:flex;justify-content:center}.container.register .app_banner .image-container img{height:100%;background-repeat:no-repeat;background-position:center center;background-size:cover}.container.register .register-text{text-align:center}.container.register span,.container.register input{font-size:16px;letter-spacing:0px;line-height:1.2}.container.register .form-container{display:flex;flex-grow:1;flex-direction:row;justify-content:center;align-items:center;padding-bottom:130px!important;width:100%!important}.container.register .register-footer{display:flex;align-items:center;flex-direction:column;height:130px;padding:20px 40px;position:fixed;width:100%;left:0;bottom:0;z-index:1000;background-color:#fff}.container.register .register-footer .action{width:100%;display:flex;flex-direction:column;row-gap:5px}.container.register .register-footer .action *{flex-grow:1}.container.register .register-footer .action button{height:53px;font-size:16px;letter-spacing:0px;line-height:1.2}.container.register .register-footer .footer-helper{display:flex;flex-grow:1;align-items:center;flex-direction:column;justify-content:flex-end}.container.register .register-footer .footer-helper *{color:#000!important}.container.register .register-footer .footer-helper a{text-decoration:underline}::ng-deep .datetime-calendar .calendar-body button{color:#000!important}::ng-deep .datetime-calendar .calendar-body button.calendar-day{color:#000!important}::ng-deep .datetime-calendar .calendar-body button.calendar-day.calendar-day-active{color:#fff!important}\n"],encapsulation:2}),a})()}];let N=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.Bz.forChild(T),c.Bz]}),a})();var L=r(237),M=r(5815);let q=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[l.ez,t.u5,t.UX,n.Pc,N,m.q,L.Z,M.d]}),a})()}}]);