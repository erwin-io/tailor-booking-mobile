"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1028],{7956:(x,p,t)=>{t.d(p,{p:()=>g});var u=t(655),s=t(5e3),r=t(8779);let d=(()=>{class a{constructor(){this.message="Loading..."}ngOnInit(){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=s.Xpm({type:a,selectors:[["app-page-loader"]],decls:5,vars:1,consts:[[1,"container"],[1,"holder"],["color","primary"]],template:function(l,h){1&l&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"ion-spinner",2),s.TgZ(3,"span"),s._uU(4),s.qZA()()()),2&l&&(s.xp6(4),s.Oqu(h.message))},dependencies:[r.PQ],styles:[".container{height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}.container .holder{display:flex;align-items:center;gap:10px;flex-direction:column;font-size:20px;text-shadow:none!important}\n"],encapsulation:2}),a})(),g=(()=>{class a{constructor(l){this.modalCtrl=l}open(l){return(0,u.mG)(this,void 0,void 0,function*(){this.modal&&(yield this.modal.dismiss()),this.modal=yield this.modalCtrl.create({component:d,id:"page-loader",cssClass:"modal-fullscreen",canDismiss:!1,componentProps:{message:l}}),this.modal.present()})}close(){return(0,u.mG)(this,void 0,void 0,function*(){this.modal.canDismiss=!0,yield this.modal.dismiss()})}}return a.\u0275fac=function(l){return new(l||a)(s.LFG(r.IN))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},1028:(x,p,t)=>{t.r(p),t.d(p,{LoginPageModule:()=>I});var u=t(5268),s=t(9808),r=t(3075),d=t(8779),g=t(4132),a=t(655),e=t(5e3),l=t(263),h=t(8386),S=t(3746),L=t(792),b=t(9709),Z=t(6488),P=t(7956),T=t(7703),A=t(7446),U=t(5245),v=t(7322),C=t(7531);const F=[{path:"",component:(()=>{class o{constructor(n,i,c,y,f,M,z,G,J,j,w){this.formBuilder=n,this.router=i,this.route=c,this.authService=y,this.userService=f,this.alertController=M,this.storageService=z,this.loaderService=G,this.appconfig=J,this.fcmService=j,this.pageLoaderService=w,this.isSubmitting=!1,this.enableBackToHome=!1}get formData(){return this.loginForm.value}ngOnInit(){this.loginForm=this.formBuilder.group({username:[null,r.kI.required],password:[null,r.kI.required],rememberMe:[!1]})}onFormSubmit(){return(0,a.mG)(this,void 0,void 0,function*(){if(this.loginForm.valid)try{const n=this.formData;this.isSubmitting=!0,yield this.pageLoaderService.open("Signing in please wait..."),this.authService.login(n).subscribe(i=>(0,a.mG)(this,void 0,void 0,function*(){i.success?!0!==this.appconfig.config.auth.requireOTP||i.data.isVerified?(this.storageService.saveRefreshToken(i.data.accessToken),this.storageService.saveAccessToken(i.data.refreshToken),this.storageService.saveTotalUnreadNotif(i.data.totalUnreadNotif),this.storageService.saveLoginUser(i.data),this.fcmService.init(),this.router.navigate(["/"],{replaceUrl:!0}),this.isSubmitting=!1,yield this.pageLoaderService.close()):this.router.navigate(["/verify-otp"],{state:{data:{userId:i.data.userId}}}):(yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",message:Array.isArray(i.message)?i.message[0]:i.message,buttons:["OK"]}))}),i=>(0,a.mG)(this,void 0,void 0,function*(){console.log(i),this.isSubmitting=!1,yield this.pageLoaderService.close(),yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(i.message)?i.message[0]:i.message,buttons:["OK"]})}))}catch(n){console.log(n),yield this.pageLoaderService.close(),this.isSubmitting=!1,yield this.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(n.message)?n.message[0]:n.message,buttons:["OK"]})}})}presentAlert(n){return(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create(n)).present()})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(r.qu),e.Y36(g.F0),e.Y36(g.gz),e.Y36(l.e),e.Y36(h.K),e.Y36(d.Br),e.Y36(S.V),e.Y36(L.D),e.Y36(b._),e.Y36(Z.E),e.Y36(P.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"login","container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-field-group"],[1,"app_banner"],[1,"image-container"],["src","../../../../assets/img/app_banner.png"],[1,"login-text"],["appearance","outline"],["matInput","","type","text","placeholder","Username","formControlName","username","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","password","placeholder","Password","formControlName","password"],["password",""],["matSuffix","",1,"icon-right",2,"cursor","pointer",3,"click"],["formControlName","rememberMe","color","primary",3,"disabled"],[1,"action"],["type","submit","mat-flat-button","","color","primary"],["routerLink","/","mat-stroked-button","","color","primary"],[1,"login-footer"],["routerLink","/signup","replaceUrl","true"]],template:function(n,i){if(1&n){const c=e.EpF();e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"form",2),e.NdJ("ngSubmit",function(){return i.onFormSubmit()}),e.TgZ(4,"fieldset",3)(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA()(),e.TgZ(9,"span",8),e._uU(10,"Log into your account"),e.qZA()(),e.TgZ(11,"div",4)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"Username"),e.qZA(),e._UZ(15,"input",10),e.qZA()(),e.TgZ(16,"div",4)(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Password"),e.qZA(),e._UZ(20,"input",11,12),e.TgZ(22,"mat-icon",13),e.NdJ("click",function(){e.CHM(c);const f=e.MAs(21);return e.KtG(f.type="password"===f.type?"text":"password")}),e._uU(23),e.qZA()()(),e.TgZ(24,"div",4)(25,"mat-checkbox",14),e._uU(26,"Remember me"),e.qZA()(),e.TgZ(27,"div",15)(28,"button",16),e._uU(29,"Log In"),e.qZA(),e.TgZ(30,"button",17),e._uU(31,"Back to home"),e.qZA()()()()(),e.TgZ(32,"div",18)(33,"span"),e._uU(34,"Don't have an account? "),e.TgZ(35,"a",19),e._uU(36,"Sign up"),e.qZA()()()()()}if(2&n){const c=e.MAs(21);e.xp6(3),e.Q6J("formGroup",i.loginForm),e.xp6(1),e.Q6J("disabled",i.isSubmitting),e.xp6(19),e.Oqu("password"===c.type?"visibility":"visibility_off"),e.xp6(2),e.Q6J("disabled",i.isSubmitting)}},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,d.W2,d.YI,d.Fo,g.rH,g.yS,T.lW,A.oG,U.Hw,v.KE,v.hX,v.R9,C.Nt],styles:[".container{height:100%;display:flex;padding:0 40px!important}.container.login{flex-direction:column;justify-content:flex-start!important}.container.login .welcome{text-transform:uppercase;white-space:pre;overflow:visible;font-weight:400;font-style:normal;font-family:Sumana,serif;color:#247881;font-size:23px;letter-spacing:0px;line-height:1.2;text-align:center;margin:0 0 25px!important}.container.login .app_banner{display:flex;flex-grow:1;height:104px;justify-content:center;margin-bottom:57px!important}.container.login .app_banner .image-container{width:299px;display:flex;justify-content:center}.container.login .app_banner .image-container img{height:100%;background-repeat:no-repeat;background-position:center center;background-size:cover}.container.login .login-text{text-align:center}.container.login span,.container.login input{font-size:16px;letter-spacing:0px;line-height:1.2}.container.login .form-container{display:flex;flex-grow:1;flex-direction:row;justify-content:center;align-items:center}.container.login .form-container .action{flex-grow:1;display:flex;flex-direction:column;row-gap:5px}.container.login .form-container .action *{flex-grow:1}.container.login .form-container .action button{height:53px;font-size:16px;letter-spacing:0px;line-height:1.2}.container.login .login-footer{display:flex;align-items:center;flex-direction:column;height:103px;justify-content:flex-end;padding:20px 0}.container.login .login-footer *{color:#000!important}.container.login .login-footer a{text-decoration:underline}\n"],encapsulation:2}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(F),g.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,r.u5,r.UX,d.Pc,Y,u.q]}),o})()}}]);