"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1028],{7956:(Z,p,n)=>{n.d(p,{p:()=>l});var u=n(5861),s=n(4650),a=n(603);class m{message="Loading...";constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=s.Xpm({type:m,selectors:[["app-page-loader"]],decls:5,vars:1,consts:[[1,"container"],[1,"holder"],["color","primary"]],template:function(r,x){1&r&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"ion-spinner",2),s.TgZ(3,"span"),s._uU(4),s.qZA()()()),2&r&&(s.xp6(4),s.Oqu(x.message))},dependencies:[a.PQ],styles:[".container{height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}.container .holder{display:flex;align-items:center;gap:10px;flex-direction:column;font-size:20px;text-shadow:none!important}\n"],encapsulation:2})}class l{modalCtrl;modal;constructor(e){this.modalCtrl=e}open(e){var r=this;return(0,u.Z)(function*(){r.modal&&(yield r.modal.dismiss()),r.modal=yield r.modalCtrl.create({component:m,id:"page-loader",cssClass:"modal-fullscreen",canDismiss:!1,componentProps:{message:e}}),r.modal.present()})()}close(){var e=this;return(0,u.Z)(function*(){e.modal.canDismiss=!0,yield e.modal.dismiss()})()}static \u0275fac=function(r){return new(r||l)(s.LFG(a.IN))};static \u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},1028:(Z,p,n)=>{n.r(p),n.d(p,{LoginPageModule:()=>h});var u=n(5457),s=n(6895),a=n(4006),m=n(603),l=n(9773),d=n(5861),e=n(4650),r=n(263),x=n(8386),b=n(3746),T=n(792),A=n(9709),U=n(6488),L=n(7956),F=n(4859),C=n(6709),Y=n(7392),S=n(9549),I=n(4144);class f{formBuilder;router;route;authService;userService;alertController;storageService;loaderService;appconfig;fcmService;pageLoaderService;isSubmitting=!1;loginForm;enableBackToHome=!1;constructor(t,i,c,o,g,y,B,J,P,j,w){this.formBuilder=t,this.router=i,this.route=c,this.authService=o,this.userService=g,this.alertController=y,this.storageService=B,this.loaderService=J,this.appconfig=P,this.fcmService=j,this.pageLoaderService=w}get formData(){return this.loginForm.value}ngOnInit(){this.loginForm=this.formBuilder.group({username:[null,a.kI.required],password:[null,a.kI.required],rememberMe:[!1]})}onFormSubmit(){var t=this;return(0,d.Z)(function*(){if(t.loginForm.valid)try{const i=t.formData;t.isSubmitting=!0,yield t.pageLoaderService.open("Signing in please wait..."),t.authService.login(i).subscribe(function(){var c=(0,d.Z)(function*(o){o.success?!0!==t.appconfig.config.auth.requireOTP||o.data.isVerified?(t.storageService.saveRefreshToken(o.data.accessToken),t.storageService.saveAccessToken(o.data.refreshToken),t.storageService.saveTotalUnreadNotif(o.data.totalUnreadNotif),t.storageService.saveLoginUser(o.data),t.fcmService.init(),t.router.navigate(["/"],{replaceUrl:!0}),t.isSubmitting=!1,yield t.pageLoaderService.close()):t.router.navigate(["/verify-otp"],{state:{data:{userId:o.data.userId}}}):(yield t.pageLoaderService.close(),t.isSubmitting=!1,yield t.presentAlert({header:"Try again!",message:Array.isArray(o.message)?o.message[0]:o.message,buttons:["OK"]}))});return function(o){return c.apply(this,arguments)}}(),function(){var c=(0,d.Z)(function*(o){console.log(o),t.isSubmitting=!1,yield t.pageLoaderService.close(),yield t.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(o.message)?o.message[0]:o.message,buttons:["OK"]})});return function(o){return c.apply(this,arguments)}}())}catch(i){console.log(i),yield t.pageLoaderService.close(),t.isSubmitting=!1,yield t.presentAlert({header:"Try again!",subHeader:"",message:Array.isArray(i.message)?i.message[0]:i.message,buttons:["OK"]})}})()}presentAlert(t){var i=this;return(0,d.Z)(function*(){yield(yield i.alertController.create(t)).present()})()}static \u0275fac=function(i){return new(i||f)(e.Y36(a.qu),e.Y36(l.F0),e.Y36(l.gz),e.Y36(r.e),e.Y36(x.K),e.Y36(m.Br),e.Y36(b.V),e.Y36(T.D),e.Y36(A._),e.Y36(U.E),e.Y36(L.p))};static \u0275cmp=e.Xpm({type:f,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"login","container"],[1,"form-container"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-field-group"],[1,"app_banner"],[1,"image-container"],["src","../../../../assets/img/app_banner.png"],[1,"login-text"],["appearance","outline"],["matInput","","type","text","placeholder","Username","formControlName","username","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","password","placeholder","Password","formControlName","password"],["password",""],["matSuffix","",1,"icon-right",2,"cursor","pointer",3,"click"],["formControlName","rememberMe","color","primary",3,"disabled"],[1,"action"],["type","submit","mat-flat-button","","color","primary"],["routerLink","/","mat-stroked-button","","color","primary"],[1,"login-footer"],["routerLink","/signup","replaceUrl","true"]],template:function(i,c){if(1&i){const o=e.EpF();e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"form",2),e.NdJ("ngSubmit",function(){return c.onFormSubmit()}),e.TgZ(4,"fieldset",3)(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA()(),e.TgZ(9,"span",8),e._uU(10,"Log into your account"),e.qZA()(),e.TgZ(11,"div",4)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"Username"),e.qZA(),e._UZ(15,"input",10),e.qZA()(),e.TgZ(16,"div",4)(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Password"),e.qZA(),e._UZ(20,"input",11,12),e.TgZ(22,"mat-icon",13),e.NdJ("click",function(){e.CHM(o);const y=e.MAs(21);return e.KtG(y.type="password"===y.type?"text":"password")}),e._uU(23),e.qZA()()(),e.TgZ(24,"div",4)(25,"mat-checkbox",14),e._uU(26,"Remember me"),e.qZA()(),e.TgZ(27,"div",15)(28,"button",16),e._uU(29,"Log In"),e.qZA(),e.TgZ(30,"button",17),e._uU(31,"Back to home"),e.qZA()()()()(),e.TgZ(32,"div",18)(33,"span"),e._uU(34,"Don't have an account? "),e.TgZ(35,"a",19),e._uU(36,"Sign up"),e.qZA()()()()()}if(2&i){const o=e.MAs(21);e.xp6(3),e.Q6J("formGroup",c.loginForm),e.xp6(1),e.Q6J("disabled",c.isSubmitting),e.xp6(19),e.Oqu("password"===o.type?"visibility":"visibility_off"),e.xp6(2),e.Q6J("disabled",c.isSubmitting)}},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,m.W2,m.YI,m.Fo,l.rH,l.yS,F.lW,C.oG,Y.Hw,S.KE,S.hX,S.R9,I.Nt],styles:[".container{height:100%;display:flex;padding:0 40px!important}.container.login{flex-direction:column;justify-content:flex-start!important}.container.login .welcome{text-transform:uppercase;white-space:pre;overflow:visible;font-weight:400;font-style:normal;font-family:Sumana,serif;color:#247881;font-size:23px;letter-spacing:0px;line-height:1.2;text-align:center;margin:0 0 25px!important}.container.login .app_banner{display:flex;flex-grow:1;height:104px;justify-content:center;margin-bottom:57px!important}.container.login .app_banner .image-container{width:299px;display:flex;justify-content:center}.container.login .app_banner .image-container img{height:100%;background-repeat:no-repeat;background-position:center center;background-size:cover}.container.login .login-text{text-align:center}.container.login span,.container.login input{font-size:16px;letter-spacing:0px;line-height:1.2}.container.login .form-container{display:flex;flex-grow:1;flex-direction:row;justify-content:center;align-items:center}.container.login .form-container .action{flex-grow:1;display:flex;flex-direction:column;row-gap:5px}.container.login .form-container .action *{flex-grow:1}.container.login .form-container .action button{height:53px;font-size:16px;letter-spacing:0px;line-height:1.2}.container.login .login-footer{display:flex;align-items:center;flex-direction:column;height:103px;justify-content:flex-end;padding:20px 0}.container.login .login-footer *{color:#000!important}.container.login .login-footer a{text-decoration:underline}\n"],encapsulation:2})}const z=[{path:"",component:f}];class v{static \u0275fac=function(i){return new(i||v)};static \u0275mod=e.oAB({type:v});static \u0275inj=e.cJS({imports:[l.Bz.forChild(z),l.Bz]})}class h{static \u0275fac=function(i){return new(i||h)};static \u0275mod=e.oAB({type:h});static \u0275inj=e.cJS({imports:[s.ez,a.u5,a.UX,m.Pc,v,u.q]})}}}]);