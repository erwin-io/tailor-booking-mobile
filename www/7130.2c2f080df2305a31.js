"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7130],{5641:(b,p,a)=>{a.d(p,{f:()=>r});var u=a(4650);class r{onClick(){setTimeout(()=>{let o=null,l=document.getElementsByClassName("action-sheet-button");if(l.length>0){for(const n of l)if(n.classList.contains("action-sheet-selected")){o=n;break}}else{l=document.getElementsByClassName("alert-radio-button"),0===l.length&&(l=document.getElementsByClassName("sc-ion-select-popover"));for(const n of l){const e=n.attributes.getNamedItem("aria-checked");if(e&&"true"===e.value){o=n;break}}}o&&o.scrollIntoView({block:"center"})},250)}static \u0275fac=function(l){return new(l||r)};static \u0275dir=u.lG2({type:r,selectors:[["ion-select"]],hostBindings:function(l,n){1&l&&u.NdJ("click",function(){return n.onClick()})}})}},5045:(b,p,a)=>{a.d(p,{n:()=>u});class u{isErrorState(r,d){return!(!r?.invalid||!r?.parent?.dirty)||!(!r?.parent?.invalid||!r?.parent?.dirty)}}},7956:(b,p,a)=>{a.d(p,{p:()=>o});var u=a(5861),c=a(4650),r=a(603);class d{message="Loading...";constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=c.Xpm({type:d,selectors:[["app-page-loader"]],decls:5,vars:1,consts:[[1,"container"],[1,"holder"],["color","primary"]],template:function(e,x){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"ion-spinner",2),c.TgZ(3,"span"),c._uU(4),c.qZA()()()),2&e&&(c.xp6(4),c.Oqu(x.message))},dependencies:[r.PQ],styles:[".container{height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}.container .holder{display:flex;align-items:center;gap:10px;flex-direction:column;font-size:20px;text-shadow:none!important}\n"],encapsulation:2})}class o{modalCtrl;modal;constructor(n){this.modalCtrl=n}open(n){var e=this;return(0,u.Z)(function*(){e.modal&&(yield e.modal.dismiss()),e.modal=yield e.modalCtrl.create({component:d,id:"page-loader",cssClass:"modal-fullscreen",canDismiss:!1,componentProps:{message:n}}),e.modal.present()})()}close(){var n=this;return(0,u.Z)(function*(){n.modal.canDismiss=!0,yield n.modal.dismiss()})()}static \u0275fac=function(e){return new(e||o)(c.LFG(r.IN))};static \u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}},7130:(b,p,a)=>{a.r(p),a.d(p,{RegisterPageModule:()=>y});var u=a(5457),c=a(6895),r=a(4006),d=a(603),o=a(9773),l=a(5861),n=a(5045),e=a(4650),x=a(9709),I=a(263),S=a(7956),T=a(4859),w=a(7392),A=a(9549),U=a(4144),C=a(5641);function N(Z,m){1&Z&&e._UZ(0,"ion-datetime",34),2&Z&&e.Q6J("showDefaultButtons",!0)}function P(Z,m){1&Z&&(e.TgZ(0,"span",35),e._uU(1," Please select a gender "),e.qZA())}class h{formBuilder;router;appconfig;authService;pageLoaderService;alertController;isSubmitting=!1;registerForm;matcher=new n.n;defaultDate=new Date;constructor(m,t,i,s,g,f){this.formBuilder=m,this.router=t,this.appconfig=i,this.authService=s,this.pageLoaderService=g,this.alertController=f}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:[null,r.kI.required],middleName:[null],lastName:[null,r.kI.required],email:[null,r.kI.required],mobileNumber:[null,[r.kI.required,r.kI.pattern("^[0-9]*$"),r.kI.minLength(11),r.kI.maxLength(11)]],address:[null,r.kI.required],birthDate:[this.defaultDate.toISOString(),r.kI.required],genderId:[null,r.kI.required],username:[null,r.kI.required],password:[null,r.kI.required],confirmPassword:""},{validators:this.checkPasswords})}get controls(){return this.registerForm.controls}checkPasswords=m=>m.get("password").value===m.get("confirmPassword").value?null:{notSame:!0};onFormSubmit(m){var t=this;return(0,l.Z)(function*(){if(t.registerForm.valid)try{t.isSubmitting=!0,yield t.pageLoaderService.open("Processing please wait..."),t.authService.register(m).subscribe(function(){var i=(0,l.Z)(function*(s){s.success?(console.log(s.data),yield t.presentAlert({header:"Saved!",buttons:["OK"]}).then((0,l.Z)(function*(){!0===t.appconfig.config.auth.requireOTP?(t.router.navigate(["verify-otp"],{state:{data:{userId:s.data.user.userId}}}),yield t.pageLoaderService.close()):(t.router.navigate(["/login"],{replaceUrl:!0}),yield t.pageLoaderService.close()),t.isSubmitting=!1})),yield t.pageLoaderService.close()):(yield t.pageLoaderService.close(),t.isSubmitting=!1,yield t.presentAlert({header:"Try again!",message:Array.isArray(s.message)?s.message[0]:s.message,buttons:["OK"]}))});return function(s){return i.apply(this,arguments)}}(),function(){var i=(0,l.Z)(function*(s){yield t.pageLoaderService.close(),t.isSubmitting=!1,yield t.presentAlert({header:"Try again!",message:Array.isArray(s.message)?s.message[0]:s.message,buttons:["OK"]})});return function(s){return i.apply(this,arguments)}}())}catch(i){yield t.pageLoaderService.close(),t.isSubmitting=!1,yield t.presentAlert({header:"Try again!",message:Array.isArray(i.message)?i.message[0]:i.message,buttons:["OK"]})}})()}presentAlert(m){var t=this;return(0,l.Z)(function*(){return yield(yield t.alertController.create(m)).present()})()}static \u0275fac=function(t){return new(t||h)(e.Y36(r.qu),e.Y36(o.F0),e.Y36(x._),e.Y36(I.e),e.Y36(S.p),e.Y36(d.Br))};static \u0275cmp=e.Xpm({type:h,selectors:[["app-register"]],decls:90,vars:14,consts:[[1,"register","container"],[1,"form-container"],["id","registerForm",3,"formGroup","ngSubmit"],["documentEditForm","ngForm"],[3,"disabled"],[1,"form-field-group"],[1,"register-text"],["appearance","outline"],["matInput","","type","text","placeholder","First name","formControlName","firstName","autocomplete","new-firstName"],["matInput","","type","text","placeholder","Middle name","formControlName","middleName","autocomplete","new-middleName"],["matInput","","type","text","placeholder","Last name","formControlName","lastName","autocomplete","new-lastName"],["matInput","","type","email","placeholder","Email","formControlName","email","autocomplete","new-email","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","number","placeholder","Mobile number","formControlName","mobileNumber","autocomplete","new-mobileNumber"],["matInput","","type","text","placeholder","Address","formControlName","address"],["slot","start"],["id","open-birthDate-picker","fill","outline","lines","none",3,"disabled"],["trigger","open-birthDate-picker",3,"cssClass"],["fill","outline",3,"disabled"],["slot","start","formControlName","genderId","placeholder","Select Gender"],["slot","start","value","1"],["slot","start","value","2"],["slot","start","value","3"],["class","error",4,"ngIf"],["matInput","","type","text","placeholder","Username","formControlName","username","autocomplete","new-username","autocapitalize","none","oninput","this.value = this.value.toLowerCase()"],["matInput","","type","password","placeholder","Password","formControlName","password","autocomplete","new-password"],["password",""],["matSuffix","",1,"icon-right",2,"cursor","pointer",3,"click"],["matInput","","type","password","placeholder","Confirm password","formControlName","confirmPassword","autocomplete","new-confirmPassword",3,"errorStateMatcher"],["confirmPassword",""],[1,"register-footer"],[1,"action"],["form","registerForm","type","submit","mat-flat-button","","color","primary",3,"disabled"],[1,"footer-helper"],["routerLink","/login","replaceUrl","true"],["presentation","date","size","cover","formControlName","birthDate",3,"showDefaultButtons"],[1,"error"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"form",2,3),e.NdJ("ngSubmit",function(){return i.onFormSubmit(i.registerForm.value)}),e.TgZ(5,"fieldset",4)(6,"div",5)(7,"span",6),e._uU(8,"Create account"),e.qZA()(),e.TgZ(9,"div",5)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"First name"),e.qZA(),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div",5)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Middle name"),e.qZA(),e._UZ(18,"input",9),e.qZA()(),e.TgZ(19,"div",5)(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Last name"),e.qZA(),e._UZ(23,"input",10),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",7)(26,"mat-label"),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",11),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-form-field",7)(31,"mat-label"),e._uU(32,"Mobile number"),e.qZA(),e._UZ(33,"input",12),e.qZA()(),e.TgZ(34,"div",5)(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Address"),e.qZA(),e._UZ(38,"textarea",13),e.qZA()(),e.TgZ(39,"div",5)(40,"mat-label",14),e._uU(41,"Birthdate"),e.qZA(),e.TgZ(42,"ion-item",15)(43,"ion-label"),e._uU(44),e.ALo(45,"date"),e.qZA()(),e.TgZ(46,"ion-modal",16),e.YNc(47,N,1,1,"ng-template"),e.qZA()(),e.TgZ(48,"div",5)(49,"mat-label"),e._uU(50,"Gender "),e.qZA(),e.TgZ(51,"ion-item",17)(52,"ion-select",18)(53,"ion-select-option",19),e._uU(54,"Male"),e.qZA(),e.TgZ(55,"ion-select-option",20),e._uU(56,"Female"),e.qZA(),e.TgZ(57,"ion-select-option",21),e._uU(58,"Rather not say"),e.qZA()()(),e.YNc(59,P,2,0,"span",22),e.qZA(),e.TgZ(60,"div",5)(61,"mat-form-field",7)(62,"mat-label"),e._uU(63,"Username"),e.qZA(),e._UZ(64,"input",23),e.qZA()(),e.TgZ(65,"div",5)(66,"mat-form-field",7)(67,"mat-label"),e._uU(68,"Password"),e.qZA(),e._UZ(69,"input",24,25),e.TgZ(71,"mat-icon",26),e.NdJ("click",function(){e.CHM(s);const f=e.MAs(70);return e.KtG(f.type="password"===f.type?"text":"password")}),e._uU(72),e.qZA()()(),e.TgZ(73,"div",5)(74,"mat-form-field",7)(75,"mat-label"),e._uU(76,"Confirm password"),e.qZA(),e._UZ(77,"input",27,28),e.TgZ(79,"mat-icon",26),e.NdJ("click",function(){e.CHM(s);const f=e.MAs(78);return e.KtG(f.type="password"===f.type?"text":"password")}),e._uU(80),e.qZA()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"button",31),e._uU(84,"Sign up"),e.qZA()(),e.TgZ(85,"div",32)(86,"span"),e._uU(87,"Already have an account? "),e.TgZ(88,"a",33),e._uU(89,"Login"),e.qZA()()()()()()}if(2&t){const s=e.MAs(70),g=e.MAs(78);e.xp6(3),e.Q6J("formGroup",i.registerForm),e.xp6(2),e.Q6J("disabled",i.isSubmitting),e.xp6(37),e.Q6J("disabled",i.isSubmitting),e.xp6(2),e.Oqu(e.xi3(45,11,i.controls.birthDate.value,"MMMM dd, yyyy")),e.xp6(2),e.Q6J("cssClass","bottom-end"),e.xp6(5),e.Q6J("disabled",i.isSubmitting),e.xp6(8),e.Q6J("ngIf",i.controls.genderId.touched&&i.controls.genderId.errors&&i.controls.genderId.errors.required),e.xp6(13),e.Oqu("password"===s.type?"visibility":"visibility_off"),e.xp6(5),e.Q6J("errorStateMatcher",i.matcher),e.xp6(3),e.Oqu("password"===g.type?"visibility":"visibility_off"),e.xp6(3),e.Q6J("disabled",i.isSubmitting)}},dependencies:[c.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,d.W2,d.x4,d.Ie,d.Q$,d.t9,d.n0,d.ki,d.QI,d.Fo,o.yS,T.lW,w.Hw,A.KE,A.hX,A.R9,U.Nt,C.f,c.uU],styles:[".container{height:100%;display:flex;padding:0 40px!important}.container.register{flex-direction:column;margin-top:30px;justify-content:flex-start!important}.container.register .app_banner{display:flex;flex-grow:1;justify-content:center;margin-bottom:27px!important}.container.register .app_banner .image-container{width:138px;height:48px;display:flex;justify-content:center}.container.register .app_banner .image-container img{height:100%;background-repeat:no-repeat;background-position:center center;background-size:cover}.container.register .register-text{text-align:center}.container.register span,.container.register input{font-size:16px;letter-spacing:0px;line-height:1.2}.container.register .form-container{display:flex;flex-grow:1;flex-direction:row;justify-content:center;align-items:center;padding-bottom:130px!important;width:100%!important}.container.register .register-footer{display:flex;align-items:center;flex-direction:column;height:130px;padding:20px 40px;position:fixed;width:100%;left:0;bottom:0;z-index:1000;background-color:#fff}.container.register .register-footer .action{width:100%;display:flex;flex-direction:column;row-gap:5px}.container.register .register-footer .action *{flex-grow:1}.container.register .register-footer .action button{height:53px;font-size:16px;letter-spacing:0px;line-height:1.2}.container.register .register-footer .footer-helper{display:flex;flex-grow:1;align-items:center;flex-direction:column;justify-content:flex-end}.container.register .register-footer .footer-helper *{color:#000!important}.container.register .register-footer .footer-helper a{text-decoration:underline}::ng-deep .datetime-calendar .calendar-body button{color:#000!important}::ng-deep .datetime-calendar .calendar-body button.calendar-day{color:#000!important}::ng-deep .datetime-calendar .calendar-body button.calendar-day.calendar-day-active{color:#fff!important}\n"],encapsulation:2})}const F=[{path:"",component:h}];class v{static \u0275fac=function(t){return new(t||v)};static \u0275mod=e.oAB({type:v});static \u0275inj=e.cJS({imports:[o.Bz.forChild(F),o.Bz]})}var L=a(237),q=a(5815);class y{static \u0275fac=function(t){return new(t||y)};static \u0275mod=e.oAB({type:y});static \u0275inj=e.cJS({imports:[c.ez,r.u5,r.UX,d.Pc,v,u.q,L.Z,q.d]})}}}]);